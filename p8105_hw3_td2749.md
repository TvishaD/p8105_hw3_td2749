p8105_hw3_td2749
================
Tvisha R. Devavarapu
2022-10-07

``` r
library(tidyverse)
library(ggplot2)
```

## Problem 2: Accelerometer Data

**Task 2.1**: Load, tidy, and otherwise wrangle the data. Your final
dataset should include all originally observed variables and values;
have useful variable names; include a weekday vs weekend variable; and
encode data with reasonable variable classes. Describe the resulting
dataset (e.g. what variables exist, how many observations, etc).

``` r
accel_data = 
  read_csv("./data/accel_data.csv") %>%
  janitor::clean_names() %>%
  mutate(day_type = ifelse(day %in% c("Saturday","Sunday"), "weekend", "weekday")) %>% 
  mutate(day = fct_relevel(day, "Monday", "Tuesday", "Wednesday", "Thursday",
                                  "Friday", "Saturday", "Sunday")) %>%
  pivot_longer(activity_1:activity_1440, names_to = "minute_of_day",
               values_to = "activity_count") %>% 
  group_by(week, day) %>%
  mutate(total_activity_count = sum(activity_count)) %>% 
  ungroup() %>% 
  pivot_wider(names_from = minute_of_day, values_from = activity_count) %>% 
  select(week, day_id, day, day_type, total_activity_count, everything())
```

    ## Rows: 35 Columns: 1443
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr    (1): day
    ## dbl (1442): week, day_id, activity.1, activity.2, activity.3, activity.4, ac...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

**Description**: Without losing any of the originally observed variables
and values, the resultant `accel_data` df contains 35 unique rows of
observations. Each row represents a day (1-35 days). The final df has
1445 columns of variables: `week` consists of values from 1-5 depicting
the respective week of observation, `day_id` and `day` identify the
unique days of observation (all 7 days of a week \* 5 weeks = 35 days =
35 rows), `day_type` indicates whether a given day is a weekend or a
weekday, `total_activity_count` represents the sums across each minute’s
activity counts over a given day (sum of 1140 (24\*60) values), and
`activity_1` to `activity_1440` represent the activity counts across
each minute.

**Task 2.2**: Traditional analyses of accelerometer data focus on the
total activity over the day. Using your tidied dataset, aggregate across
minutes to create a total activity variable for each day, and create a
table showing these totals. Are any trends apparent?

``` r
total_activity_table = 
  accel_data %>% 
  group_by(week, day) %>% 
  summarize(total_activity_count) %>% 
  pivot_wider(names_from = day, values_from = total_activity_count) %>% 
  knitr::kable()
```

    ## `summarise()` has grouped output by 'week'. You can override using the
    ## `.groups` argument.

``` r
total_activity_table
```

| week |    Monday |  Tuesday | Wednesday | Thursday |   Friday | Saturday | Sunday |
|-----:|----------:|---------:|----------:|---------:|---------:|---------:|-------:|
|    1 |  78828.07 | 307094.2 |    340115 | 355923.6 | 480542.6 |   376254 | 631105 |
|    2 | 295431.00 | 423245.0 |    440962 | 474048.0 | 568839.0 |   607175 | 422018 |
|    3 | 685910.00 | 381507.0 |    468869 | 371230.0 | 467420.0 |   382928 | 467052 |
|    4 | 409450.00 | 319568.0 |    434460 | 340291.0 | 154049.0 |     1440 | 260617 |
|    5 | 389080.00 | 367824.0 |    445366 | 549658.0 | 620860.0 |     1440 | 138421 |

``` r
accel_data %>%
  ggplot(aes(x = day, y = total_activity_count, color = week, group = week)) +
  geom_point() +
  geom_line() +
  scale_colour_gradientn(colours = c("#88CCEE", "#CC6677", "#DDCC77", "#117733", "#332288")) +
  labs(title = "Total Activity Count Vs. Day: Across 5 Weeks",
       x = "Day",
       y = "Total Activity Count") +
  theme(plot.title = element_text(hjust = 0.5),
        legend.position = "bottom")
```

![](p8105_hw3_td2749_files/figure-gfm/Total%20Activity%20-%20Table%20and%20Graph-1.png)<!-- -->
**Description**: From the table and graph generated above, here are some
observed trends:

-   Compared to other weeks, activity is relatively more consistent
    throughout week 3.
-   Activity on Tuesday seems to be most consistent across all five
    weeks.
-   Generally upward trending activity between Tuesday and Thursday of
    weeks 1, 2, and 3.
-   Activity on Saturday of weeks 4 and 5 seems extremely low, even
    assuming lower than usual activity. This could be a result of the
    accelerometer not being worn on these days.
-   Across all weeks, activity was greater on Wednesday than on Tuesday
    and on Friday than on Thursday (apart from week 4).
-   Apart from week 4, Fridays seem to have consistently high total
    activities.

NOTE: I’m aware that `week` is in continual format (by virtue of being
made up of numeric values.) I tried converting it into character (to use
it as a categorical variable) but that’s not letting me plot this graph.
I will learn of a way to rectify this situation!

**Task 2.3**: Accelerometer data allows the inspection activity over the
course of the day. Make a single-panel plot that shows the 24-hour
activity time courses for each day and use color to indicate day of the
week. Describe in words any patterns or conclusions you can make based
on this graph.

``` r
accel_data %>%
  pivot_longer(activity_1:activity_1440, names_to = "minute_of_day", 
               names_prefix = "activity_", values_to = "activity_count") %>% 
  mutate(minute_of_day = as.numeric(minute_of_day)) %>% 
  ggplot(aes(x = minute_of_day, y = activity_count, color = day)) +
  geom_point(alpha = 0.5) +
  scale_x_continuous(
    breaks = c(360, 720, 1080, 1440), 
    labels = c("6 AM", "12 PM", "6 PM", "12 AM")) +
  labs(title = "Activity Count Vs. Hour",
       x = "Hour",
       y = "Activity Count",
       caption = "Composite: Monday through Sunday; across 5 weeks") +
  theme(plot.title = element_text(hjust = 0.5),
        plot.caption = element_text(hjust = 0.5),
        legend.position = "bottom") +
  viridis::scale_color_viridis(name = "week", discrete = TRUE)
```

![](p8105_hw3_td2749_files/figure-gfm/24%20Hour%20Plot-1.png)<!-- -->
**Description**: From the plot above, some patterns/conclusions are:

-   Sunday morning and Friday evenings generally reveal clusters of
    activity.
-   Thursday mornings around 7 AM. Consistent activity pattern?
-   Saturdays (around 5 PM and 8 PM)
-   Highest activity on Mondays usually between 7-9 PM.
-   Tuesdays are relatively the least active days for this individual.
-   Some sparse high activity on Wednesday evenings (7-10 PM), other
    than which Wednesdays were pretty sedentary.
